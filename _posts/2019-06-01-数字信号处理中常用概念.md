---
layout: post
title: 数字信号处理中常用概念
subtitle: 对于数字信号中的一些基本概念的整理
author: "heylypp"
header-mask: 0.3
catalog: true
mathjax: true
tags: 
	- 信号处理
---
### 一、信号基本概念

Aliasing(混叠)，避免混叠有两种方法：

- 奈奎斯特采样
- 使用低通滤波器，选取感兴趣的信号。 注：一定要在采样之前进行低通滤波。

使用均方根RMS来描述信号质量



### 二、几种平均

**1、算术平均**

 算术平均（Arithmetic mean）是最基本、最常用的一种平均指标，描述数据集中趋势的一个统计指标。 
$$
A(x_1,x_2,...,x_n)=\frac{\sum_{i=1}^n}{n}=\frac{x_1+x_2+...+x_n}{n}
$$
**加权平均**

若原始数据，被分成k组，各组的值为$(x_1,x_2,...x_k)$,各组频率分布为$(f_1,f_2,...f_k)$，则加权算术平均数的计算公式为
$$
A=\frac{\sum_{i=1}^{k}x_if_i}{\sum_{i=1}^{k}f_i}=\frac{x_1f_1+x_2f_2+...+x_kf_k}{f_1+f_2+...+f_k}
$$
**2、几何平均**

> 几何平均适用于对比率、指数等进行平均，主要用于平均增长（变化）率，对数正态分布

几何平均（Geometric mean），是另一种计算平均值的方法，对几何平均，也可以像算术平均一样，做加权的几何平均。
$$
G\left(x_{1}, x_{2}, \ldots, x_{n}\right)=\sqrt[n]{\prod_{i=1}^{n} x_{i}}=\sqrt[n]{x_{1} \cdot x_{2} \cdot \ldots \cdot x_{n}}
$$
**算术-几何平均数**

若有两个正实数 x 和 y，则它们的算术-几何平均数为，先计算这两个数的算术平均数，称为 a1；再计算它们的几何平均数，称为 g1。 
$$
a_{2}=\frac{x+y}{2}, g_{2}=\sqrt{x \cdot y}
$$
 重复这个步骤，便得到了两个数列 $(a_n)$和 $(g_n)$ :
$$
a_{n+1}=\frac{a_{n}+g_{n}}{2}, g_{n+1}=\sqrt{a_{n} \cdot g_{n}}
$$
 这两个数列都收敛于一个相同的数，这个数称为 x 和 y 的算术-几何平均数，记为 $M(x, y)$ 或 $agm(x, y)$。

计算 a0 = 24和 g0 = 6的算术-几何平均数 M(24, 6) 如下表所示 :

| n    | $a_n$             | $g_n$             |
| ---- | ----------------- | ----------------- |
| 0    | 24                | 6                 |
| 1    | 15                | 21                |
| 2    | 13.5              | 13.41640786500... |
| 3    | 13.45820393250... | 13.45813903099... |
| 4    | 13.45817148175... | 13.45817148171... |

 a0 = 24和 g0 = 6的算术-几何平均数 ，$\mathrm{M}(24,6) \approx 13.45817148173$

- 1和$\sqrt{2}$的算术-几何平均数的倒数，称为高斯常数

$$
\frac{1}{\mathrm{M}(1, \sqrt{2})}=\mathrm{G}=0.8346268 \ldots
$$

**3、调和平均**

> 调和平均一般用于计算平均速率

加权调和平均数是加权算术平均数的变形。 多数多情况下，我们只掌握每组某个标志的数值总和（m），而缺少总体单位数（f）的资料，因此，不能直接采用加权算术平均数法计算平均数，而则采用加权调和平均数。   

先由加权算术平均数公式推到加权调和平均公式，最后推到简单调和平均公式，它是加权调和公式的特殊形式。加权算术平均的计算公式为 
$$
A=\frac{\sum x_{i} f_{i}}{\sum f_{i}} \Leftrightarrow \frac{1}{\frac{\sum f_i}{\sum x_{i}f_i}} \Leftrightarrow { m_{i}=x_{i} f_{i}}\Leftrightarrow \frac{1}{\frac{\sum\frac{m_{i}}{x_{i}}}{\sum m_i}} \Leftrightarrow \frac{\sum m_{i}}{\sum \frac{m_{i}}{x_{i}}}=H
$$
即，加权调和平均公式为：
$$
H=\frac{\sum_{i=1}^{n}m_i}{\sum_{i=1}^n\frac{m_i}{x_i}}
$$
当$m_i=1$时，则公式退化成简单调和平均公式
$$
H=\frac{n}{\sum_{i=1}^{n} \frac{1}{x_i}}=\frac{n}{\frac{1}{x_1}+\frac{1}{x_2}+\dots+\frac{1}{x_n}}
$$
即 n 个数据的倒数取算术平均，再取倒数。

例子：某工厂购进材料三批，每批价格及采购金额资料如下表： 

|        | 价格x （元/千克） | 采购金额m （元） | 采购数量 m/x（千克） |
| ------ | ----------------- | ---------------- | -------------------- |
| 第一批 | 35                | 10000            | 286                  |
| 第二批 | 40                | 20000            | 500                  |
| 第三批 | 45                | 15000            | 330                  |
| 合计   | --                | 45000            | 1116                 |

$$
H=\frac{\sum m_i}{\sum\frac{m_i}{x_i}} =\frac{45000}{1116}=40.32
$$

每千克40.32元。

> 毕达哥拉斯平均是算术平均数(A)、几何平均数(G)及调和平均数(H)，这三种平均数的总称。

# 平方平均

 平方平均（Quadratic mean），简称方均根（Root Mean Square，RMS），是平方根的广义平均（generalized mean），计算公式为： 
$$
\mathrm{M}\left(\mathrm{x}_{1}, \mathrm{x}_{2,-\infty}, \mathrm{x}_{\mathrm{n}}\right)=\sqrt{\frac{\sum_{\mathrm{i}=1}^{\mathrm{n}} \mathrm{x}_{\mathrm{i}}^{2}}{\mathrm{n}}}=\sqrt{\frac{\mathrm{x}_{1}^{2}+\mathrm{x}_{2}^{2}+\cdots+\mathrm{x}_{\mathrm{n}}^{2}}{\mathrm{n}}}
$$
即n个数据的平方取算术平均，再开平方根。

利用柯西不等式，平方平均与算术平均的关系是：平方平均不小于算术平均
$$
\begin{array}{c}
\mathrm{A}=\frac{1}{\mathrm{n}} \sum \mathrm{x}_{\mathrm{i}} \\
\Leftrightarrow \mathrm{A}^{2}=\left(\frac{1}{\mathrm{n}} \sum \mathrm{x}_{\mathrm{i}}\right)^{2}=\left(\frac{\mathrm{x}_{1}+\mathrm{x}_{2}+\cdots+\mathrm{x}_{\mathrm{n}}}{\mathrm{n}}\right)^{2}=\left(\frac{\mathrm{x}_{1} \cdot 1+\mathrm{x}_{2} \cdot 1+\cdots+\mathrm{x}_{\mathrm{n}} \cdot 1}{\mathrm{n}}\right)^{2} \\
\leq\left(\frac{\mathrm{x}_{1}^{2}+\mathrm{x}_{2}^{2}+\cdots+\mathrm{x}_{\mathrm{n}}^{2}}{\mathrm{n}}\right)\left(1^{2}+1^{2}+\cdots+1^{2}\right) \\
\Leftrightarrow \frac{1}{\mathrm{n}} \sum \mathrm{x}_{\mathrm{i}} \leq \sqrt{\frac{\mathrm{x}_{1}^{2}+\mathrm{x}_{2}^{2}+\cdots+\mathrm{x}_{\mathrm{n}}^{2}}{\mathrm{n}}}
\end{array}
$$

- 平方平均数常用来计算一组数据和某个数据的“平均差”。像交流电的电压、电流数值以及均匀加速直线运动的位移中点平均速度，都是以其实际数值的方均根表示。
- 统计中的标准差 s即为平方平均。

# 移动平均

移动平均（Moving Average，MA），又称“移动平均线”简称均线，是一种简单平滑预测技术，它的基本思想是：根据时间序列资料、逐项推移，依次计算包含一定项数的序时平均值，以反映长期趋势的方法。因此，当时间序列的数值由于受周期变动和随机波动的影响，起伏较大，不易显示出事件的发展趋势时，使用移动平均法可以消除这些因素的影响，显示出事件的发展方向与趋势（即趋势线），然后依趋势线分析预测序列的长期趋势。

移动平均法适用于即期预测。当产品需求既不快速增长也不快速下降，且不存在季节性因素时，移动平均法能有效地消除预测中的随机波动，是非常有用的。移动平均可抚平短期波动，反映出长期趋势或周期。最常见的是利用股价、回报或交易量等变量计算出移动平均。

数学上，移动平均可视为一种卷积（卷积是通过两个函数 f 和 g 生成第三个函数的一种数学算子，表征函数 f 与经过翻转和平移的 g 的重叠部分的累积。如果将参加卷积的一个函数看作区间的指示函数，卷积还可以被看作是“移动平均”的推广）。

移动平均法可以分为：简单移动平均和加权移动平均。

### 三、数学概念

##### 1.均值（mean）

​	均值表示信号中**直流分量**的大小，用E(x)表示。对于高斯白噪声而言，它的均值为0，所以它只有交流分量。

$$
\bar{x}=\frac{x_{1}+x_{2}+x_{3}+\cdots+x_{n}}{n}=\frac{\sum_{i=0}^{n}x_{i}}{n}
$$


##### 2.均值的平方

​	均值的平方，用{E(x)}^2表示，它表示的是信号中直流分量的的功率。

##### 3.均方值

​	均方值表示信号平方后的均值，用E(x^2)表示。均方值表示信号的平均功率。信号的**平均功率**=信号交流分量功率+信号直流分量功率

例如：对于x、y、z这个三项求均方值。 

$$
 \bar{x^2}=\frac{x^2+y^2+z^2}{3} 
$$

##### 4.均方根值

​	均方根值，用RMS（root mean square）即均方值的根号

$$
x_{rms}=\sqrt{\frac{\sum_{i=1}^{N}}{N}x_{i}^2}=\sqrt{\frac{x_{1}^2+x_{2}^2+\cdots+x_{N}^2}{N}}均方差
$$

##### 5.均方差

​	均方差（mean square error），用MSE表示。均方差是各数据偏离真实值的距离平方和的平均数，也即误差平方和的平均数，计算公式形式上接近方差，它的开方叫均方根误差，均方根误差和标准差形式上接近。均方差有时候就被认为等同于方差

$$
MSE=\frac{1}{n}\sum_{i=1}^{s}(X_{obs,i}-X_{model,i})^{2}
$$

##### 6.均方根误差

均方根误差用RMSE(root mean square error)表示。它是观测值与真值偏差的平方和观测次数n比值的**平方根**，在实际测量中，观测次数n总是有限的，真值只能用最可信赖（最佳）值来替代，方根误差 对一组测量中的特大或特小误差反映非常敏感，所以，均方根误差能够很好地反映出测量地精密度。均方值误差有时候被认为是标准差

$$
RMSE=\sqrt{\frac{\sum_{i=1}^{n}(x_{obsi}-x_{model,i})^2}{n}}
$$

##### 7.方差

 方差用variance或deviation或Var表示。方差描述信号地波动范围，表示信号总中**交流分量**的强弱，即交流信号的平均功率.

$$
s^2={\frac{1}{n-1}\sum_{i=1}^{n}（x_{i}-\bar{x}）^2}
$$

或者用公式表示为

$$
s^2=\frac{1}{n}[（x_{1}-x）^2+（x_{2}-x）^2+（x_{3}-x）^2+\cdots+（x_{n}-x）^2]
$$

注意上面除以的是n-1，只有这样由样本值估计出的方差才是无偏差的，即上面式子的期望才是X的方差。但是有的地方也有用除以n来表示方差，只不过这样求出的结果不是方差的无偏估计，计算结果的数学期望并不是X的方差，而是X方差的$\frac{n-1}{n}$倍。

##### 8.标准差

标准差（Standard Deviation）用$\sigma$表示，有的时候标准差又可以被称为均方根误差RMSE。标准差是个数据偏离平均数的距离的平均数，它是离均差平方和平均后的方根，用$\sigma$表示，标准差能反映一个数据集的离散程度。

标准差$\sigma$，反映了测量数据偏离真实值的程度，$\sigma$越小，表示测量精度越高，因此可用$\sigma$作为评定这一测量过程精度的标准。

$$
S=\sqrt{\frac{\sum_{i=1}^{n}(X_{i}-\bar{X})^2}{n}}
$$


#有了方差为什么要使用标准差？标准差比方差有什么优势？

因为方差与我们要处理我们要处理的数据的量纲是不一致的，虽然能很好的描述数据与均值的偏离程度，但是处理结果是不符合我们的直观思维的。

举个例子：一个班级有60个学生，平均成绩是70分，标准差是9，方差是81，成绩服从正态，那么我们通过方差不能直观的确定班级学生与均值到底偏离了多少分，通过标准差我们就很直观的得到学生成绩分布在[61,79]范围的概率为0.6826，即约等于下图中的34.2%$\times$2。

![](https://raw.githubusercontent.com/heylypp/photo/master/20190808220113.png?token=AEBMCVQCUEYQZKOBL673YP25JQVWW)

#总结

（1）总的来说，均方差，均方根误差和方差，标准差是不能够等同的，尽管它们的公式相似。我们需要从真实值和均值之间的关系来区分它们

（2）对于方差和标准差而言，它们反映的是数据序列与均值的关系。

（3）对于均方差和均方根误差而言，它们反映的是数据序列与真实值之间的关系。



Reference

[数字信号处理中均值、方差、均方值、均方差计算和它们的物理意义](<https://blog.csdn.net/wordwarwordwar/article/details/63251674>)

[Markdown中编辑数学公式1](<https://blog.csdn.net/u014630987/article/details/70156489>)

[Markdown中编辑数学公式2](<https://blog.csdn.net/zdk930519/article/details/54137476>)

[算术平均、几何平均、调和平均、平方平均和移动平均](https://www.cnblogs.com/liuning8023/p/3525920.html)

